<header>
  <h1 class='tachyons tc'>
    sheetify document
  </h1>
</header>
<header>
  <span class='author'>
    <span class='tachyons gray'>By</span>
    <a rel="author" href="https://github.com/ZhouHansen">Zhou Hancheng</a>
  </span>
  <span class='reading-time tachyons gray'>
    10 min read
  </span>
</header>
<section class='article'>
  <div class="markdown-body">
  <h1>sheetify</h1>
  <p><a href="https://npmjs.org/package/sheetify"><img src="https://img.shields.io/npm/v/sheetify.svg?style=flat-square" alt="NPM version"></a>
  <a href="https://travis-ci.org/stackcss/sheetify"><img src="https://img.shields.io/travis/stackcss/sheetify/master.svg?style=flat-square" alt="build status"></a>
  <a href="https://codecov.io/github/stackcss/sheetify"><img src="https://img.shields.io/codecov/c/github/stackcss/sheetify/master.svg?style=flat-square" alt="Test coverage"></a>
  <a href="https://npmjs.org/package/sheetify"><img src="http://img.shields.io/npm/dm/sheetify.svg?style=flat-square" alt="Downloads"></a>
  <a href="https://github.com/feross/standard"><img src="https://img.shields.io/badge/code%20style-standard-brightgreen.svg?style=flat-square" alt="js-standard-style"></a></p>
  <p>Modular CSS bundler for browserify. Works with <a href="http://npmjs.org/">npm</a> modules
  like <a href="http://browserify.org/">browserify</a> does.</p>
  <h2>Features</h2>
  <ul>
  <li><strong>clarity:</strong> namespace CSS, no more need for naming schemes</li>
  <li><strong>modularity:</strong> import and reuse CSS packages from npm</li>
  <li><strong>extensibility:</strong> transform CSS using existing plugins, or write your own</li>
  <li><strong>transparency:</strong> inline CSS in your views</li>
  <li><strong>simplicity:</strong> tiny API surface and a minimal code base</li>
  </ul>
  <h2>Example</h2>
  <p>Given some inline CSS:</p>
  <pre class="language-js">
  <code class="language-js"><span class="token keyword">const</span> css <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'sheetify'</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> html <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'bel'</span><span class="token punctuation">)</span>
  
  <span class="token keyword">const</span> prefix <span class="token operator">=</span> css<span class="token template-string"><span class="token string">`
    :host > h1 {
      text-align: center;
    }
  `</span></span>
  
  <span class="token keyword">const</span> tree <span class="token operator">=</span> html<span class="token template-string"><span class="token string">`
    &lt;section class=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>prefix<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">>
      &lt;h1>My beautiful, centered title&lt;/h1>
    &lt;/section>
  `</span></span>
  
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>tree<span class="token punctuation">)</span></code></pre>
  <p>Compile with browserify using <code>-t sheetify</code>:</p>
  <pre class="language-sh">
  <code class="language-sh">$ browserify -t sheetify index.js &gt; bundle.js</code></pre>
  <p>CSS classes are namespaced based on the content hash:</p>
  <pre class="language-css">
  <code class="language-css"><span class="token selector">._60ed23ec9f h1</span> <span class="token punctuation">{</span>
    <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
  <span class="token punctuation">}</span></code></pre>
  <p>And the rendered HTML includes the namespace:</p>
  <pre class="language-html">
  <code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>section</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_60ed23ec9f<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>My beautiful, centered title<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>section</span><span class="token punctuation">></span></span></code></pre>
  <h2>Styling host elements</h2>
  <p>The element that gets a prefix applied can be styled using the <a href="http://www.html5rocks.com/en/tutorials/webcomponents/shadowdom-201/#toc-style-host"><code>:host</code>
  pseudoselector</a>:</p>
  <pre class="language-js">
  <code class="language-js"><span class="token keyword">const</span> css <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'sheetify'</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> html <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'bel'</span><span class="token punctuation">)</span>
  
  <span class="token keyword">const</span> prefix <span class="token operator">=</span> css<span class="token template-string"><span class="token string">`
    :host {
      background-color: blue;
    }
  
    :host > h1 {
      text-decoration: underline;
    }
  `</span></span>
  
  <span class="token keyword">const</span> tree <span class="token operator">=</span> html<span class="token template-string"><span class="token string">`
    &lt;section class=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>prefix<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">>
      &lt;h1>My beautiful, centered title&lt;/h1>
    &lt;/section>
  `</span></span>
  
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>tree<span class="token punctuation">)</span></code></pre>
  <p>By using <code>:host</code> we are able to provide styles for the parent element:</p>
  <pre class="language-css">
  <code class="language-css"><span class="token selector">._60ed23ec9f</span> <span class="token punctuation">{</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> blue<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  
  <span class="token selector">._60ed23ec9f > h1</span> <span class="token punctuation">{</span>
    <span class="token property">text-decoration</span><span class="token punctuation">:</span> underline<span class="token punctuation">;</span>
  <span class="token punctuation">}</span></code></pre>
  <pre class="language-html">
  <code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>section</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_60ed23ec9f<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>My beautiful, centered title<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span></code></pre>
  <h2>External files</h2>
  <p>To include an external CSS file you can pass a path to sheetify as
  <code>sheetify('./my-file.css')</code>:</p>
  <pre class="language-js">
  <code class="language-js"><span class="token keyword">const</span> css <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'sheetify'</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> html <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'bel'</span><span class="token punctuation">)</span>
  
  <span class="token keyword">const</span> prefix <span class="token operator">=</span> <span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'./my-styles.css'</span><span class="token punctuation">)</span>
  
  <span class="token keyword">const</span> tree <span class="token operator">=</span> html<span class="token template-string"><span class="token string">`
    &lt;section class=$prefix}>
      &lt;h1>My beautiful, centered title&lt;/h1>
    &lt;/section>
  `</span></span>
  
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>tree<span class="token punctuation">)</span></code></pre>
  <h2>Use npm packages</h2>
  <p>To consume a package from npm that has <code>.css</code> file in its <code>main</code> or <code>style</code>
  field:</p>
  <pre class="language-js">
  <code class="language-js"><span class="token keyword">const</span> css <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'sheetify'</span><span class="token punctuation">)</span>
  
  <span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'normalize.css'</span><span class="token punctuation">)</span></code></pre>
  <p>Packages from npm will not be namespaced by default.</p>
  <h2>Write to separate file on disk</h2>
  <p>To write the compiled CSS to a separate file, rather than keep it in the
  bundle use <a href="https://github.com/stackcss/css-extract">css-extract</a>:</p>
  <pre class="language-sh">
  <code class="language-sh">$ browserify index.js -t [ sheetify ] -p [ css-extract -o bundle.css ] index.js -o bundle.js</code></pre>
  <p><a href="https://github.com/stackcss/css-extract">css-extract</a> can also write to a stream from the JS api, look at the
  documentation to see how.</p>
  <h2>Plugins</h2>
  <p>Sheetify uses <a href="#plugins">plugins</a> that take CSS and apply a transform.
  For example include
  <a href="https://github.com/sheetify/sheetify-cssnext">sheetify-cssnext</a> to support
  autoprefixing, variables and more:</p>
  <pre class="language-js">
  <code class="language-js"><span class="token keyword">const</span> css <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'sheetify'</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> html <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'bel'</span><span class="token punctuation">)</span>
  
  <span class="token keyword">const</span> prefix <span class="token operator">=</span> css<span class="token template-string"><span class="token string">`
    h1 {
      transform: translate(0, 0);
    }
  `</span></span>
  
  <span class="token keyword">const</span> tree <span class="token operator">=</span> html<span class="token template-string"><span class="token string">`
    &lt;section class=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>prefix<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">>
      &lt;h1>My beautiful, centered title&lt;/h1>
    &lt;/section>
  `</span></span>
  
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>tree<span class="token punctuation">)</span></code></pre>
  <p>Compile with browserify using <code>-t [ sheetify -u sheetify-cssnext ]</code>:</p>
  <pre class="language-sh">
  <code class="language-sh">$ browserify -t [ sheetify -u sheetify-cssnext ] index.js &gt; bundle.js</code></pre>
  <p>Transforms the CSS into:</p>
  <pre class="language-css">
  <code class="language-css"><span class="token selector">h1</span> <span class="token punctuation">{</span>
    <span class="token property">-webkit-transform</span><span class="token punctuation">:</span> <span class="token function">translate</span><span class="token punctuation">(</span>0, 0<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translate</span><span class="token punctuation">(</span>0, 0<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span></code></pre>
  <p>The following plugins are available:</p>
  <ul>
  <li><a href="https://github.com/sheetify/sheetify-cssnext">sheetify-cssnext</a> - use
  tomorrow's CSS syntax today</li>
  </ul>
  <h2>API</h2>
  <p>Browserify transforms accept either flags from the command line using
  <a href="https://github.com/substack/subarg">subargs</a>:</p>
  <pre class="language-sh">
  <code class="language-sh">$ browserify -t [ sheetify -u sheetify-cssnext ] index.js &gt; bundle.js</code></pre>
  <p>Or the equivalent options by passing in a configuration object in the
  JavaScript API:</p>
  <pre class="language-js">
  <code class="language-js"><span class="token keyword">const</span> browserify <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'browserify'</span><span class="token punctuation">)</span>
  
  <span class="token keyword">const</span> b <span class="token operator">=</span> <span class="token function">browserify</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'transform/source.js'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  b<span class="token punctuation">.</span><span class="token function">transform</span><span class="token punctuation">(</span><span class="token string">'sheetify'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> use<span class="token punctuation">:</span> <span class="token punctuation">[</span> <span class="token string">'sheetify-cssnext'</span> <span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
  b<span class="token punctuation">.</span><span class="token function">bundle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span>stdout<span class="token punctuation">)</span></code></pre>
  <p>The following options are available:</p>
  <pre class="language-txt">
  <code class="language-txt">Options:
    -u, --use    Consume a sheetify plugin</code></pre>
  <h2>FAQ</h2>
  <h3>Help, why isn't my inline CSS being transformed?</h3>
  <p>Well, that might be because you're running <code>babelify</code> before running
  <code>sheetify</code>. <code>sheetify</code> looks for template strings in your code and then
  transforms them as inline stylesheets. If these are caught and transformed to
  ES5 strings by <code>babelify</code> then <code>sheetify</code> ends up sad. So try running
  <code>sheetify</code> before <code>babelify</code> and you should be good, we hope.</p>
  <h2>Installation</h2>
  <pre class="language-sh">
  <code class="language-sh">$ npm install sheetify</code></pre>
  <h2>See Also</h2>
  <ul>
  <li><a href="https://github.com/substack/node-browserify">browserify</a> - browser-side
  require() the node.js way</li>
  <li><a href="https://github.com/stackgl/glslify">glslify</a> - module system for GLSL
  shaders</li>
  <li><a href="https://github.com/substack/hyperx">hyperx</a> - transform inline HTML to JS</li>
  <li><a href="https://github.com/yoshuawuyts/bankai">bankai</a> - DIY server middleware for
  JS, CSS and HTML</li>
  <li><a href="https://github.com/stackcss/css-extract">css-extract</a>: extract CSS from a browserify bundle</li>
  </ul>
  <h2>License</h2>
  <p><a href="https://tldrlegal.com/license/mit-license">MIT</a></p>
  </div>
  
</section>